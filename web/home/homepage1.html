<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="../static/layuiadmin/layui/css/layui.css"/>
    <style type="text/css">
        html {
            width: 100%;
            height: 100%;
        }

        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        body {
            background-image: url(../static/images/bg.jpg);
            /* background-color: #F5F5F5; */
            background-repeat: no-repeat;
            background-size: 100% 100%;
        }

        .container {
            width: 80%;
            margin: 30px auto;
        }

        .box-hd {
            height: 58px;
        }

        .box-hd .title {
            line-height: 58px;
            font-size: 22px;
            color: #333;
            font-weight: 200;
        }

        .viedo-info {
            background-color: #FFFFFF;
            overflow: hidden;
        }

        .explain {
            color: #878890;
        }

        .type {
            margin-top: 30px;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="box-hd">
        <h2 class="title">添加课程</h2>
    </div>
    <div class="viedo-info">
        <div class="site-text site-block">
            <form class="layui-form" action="" method="post" id="form1" enctype="multipart/form-data">
                <input type="hidden" name="action" value="uploadCourse">
                <div class="layui-form-item type">

                    <!-- 课程类型 -->
                    <label class="layui-form-label"><font size="4" color="red">*</font>课程类型</label>
                    <div class="layui-input-block">
                        <input class="courseType" type="radio" name="isFree" value="1" title="免费课程" checked="">
                        <div class="layui-unselect layui-form-radio"><i class="layui-anim layui-icon"></i>
                            <div>免费课程</div>
                        </div>
                        <input type="radio" name="isFree" value="0" title="付费课程">
                        <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                class="layui-anim layui-icon"></i>
                            <div>付费课程</div>
                        </div>
                    </div>
                    <p class="explain">免费课程为音频、视频以及图文等课程;付费课程下单时需要—起提交相关信息;</p>


                    <div class="" style="margin-top: 15px;">
                        <label class="layui-form-label"><font size="4" color="red">*</font>课程名称</label>
                        <div class="layui-input-block">
                            <input type="text" name="courseName"  required="" lay-verify="required" placeholder="请输入标题"
                                   autocomplete="off" class="layui-input courseName" style="width: 50%;">
                        </div>
                    </div>

                    <div class="" style="margin-top: 15px;">
                        <label class="layui-form-label"><font size="4" color="red">*</font>课程封面</label>
                        <!-- 							<div class="layui-input-block">
                                                      <button type="button" class="layui-btn" id="test3"><i class="layui-icon"></i>上传封面</button>

                                                    </div> -->
                        <div class="layui-upload">
                            <button type="button" class="layui-btn" id="btn01" >上传图片</button>
                            <input name="imgPath" id="imgFile" type="file" hidden accept="image/*" onchange="changepic(this)">
                            <!--<input class="layui-upload-file" id="image1" type="file" accept="" name="imgPath">-->
                            <div class="layui-upload-list" style="margin-left: 110px;">
                                <img class="layui-upload-img" id="demo1" width="270px" height="160px">
                                <p id="demoText" style="color:#878890; font-size: 14px; margin: 5px 0px;">建议尺寸270*
                                    160px，也可根据自己的实际情况做图片尺寸</p>
                            </div>
                        </div>
                    </div>


                    <!-- </div> -->
                    <div class="layui-form-item" style="margin-right: 70%;">
                        <label class="layui-form-label">讲师名称</label>
                        <div class="layui-input-block">
                            <select name="teacherType" lay-verify="required" class="teacherType" >
                                <option value=""></option>
                                <option value="助教">助教</option>
                                <option value="讲师">讲师</option>
                                <option value="副教授">副教授</option>
                                <option value="教授">教授</option>
                            </select>
                        </div>
                    </div>

                    <div class="" style="margin-top: 15px;">
                        <label class="layui-form-label"><font size="4" color="red">*</font>课程价格</label>
                        <div class="layui-input-block">
                            <input type="text" name="cost" required="" lay-verify="required" placeholder="￥"
                                   autocomplete="off" class="layui-input cost" style="width: 202px;">
                        </div>
                    </div>
                    <div class="layui-form-item layui-form-text">
                        <label class="layui-form-label"><font size="4" color="red">*</font>课程介绍</label>
                        <div class="layui-input-block" style="margin-right: 50%;">
                            <textarea name="courseInfo" placeholder="请输入内容" class="layui-textarea courseInfo"></textarea>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <button class="layui-btn" lay-submit="" lay-filter="formDemo" id="submit">立即提交</button>
                            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
<script src="../static/layuiadmin/layui/layui.js" type="text/javascript" charset="utf-8"></script>
<script>
    //Demo
    layui.use('form', function () {
        var form = layui.form;

        // //监听提交
        // form.on('submit(formDemo)', function (data) {
        //     // layer.msg(JSON.stringify(data.field));
        //     return false;
        // });
    });
</script>
<script type="text/javascript" src="../static/js/jquery.min.js"></script>
<script type="text/javascript">
    $(function () {
        $("#submit").on("click",function () {
            // $.getJSON("http://localhost:8080/onlinelearning/teacher.do","action=uploadCourse&"+$("#form1").serialize(),function (data) {
            //     // console.log(data)
            // })

           let formData1 = new FormData(document.getElementById("form1"));
           $.ajax({
               url:"http://localhost:8080/onlinelearning/teacher.do",
               type:"POST",
               datatype:"text",
               data:formData1,
               processData:false,
               contentType:false,
               success:function (data) {
                   // alert(data)
               }
           });
            // get();
        })
    })
</script>
<script>
    $("#btn01").click(function () {
        $("#imgFile").trigger("click");
    });
    function changepic() {

        var reads= new FileReader();

        let f=document.getElementById('imgFile').files[0];

        reads.readAsDataURL(f);

        reads.onload=function (e) {

            document.getElementById('demo1').src=this.result;

        };

    }
</script>
</html>
